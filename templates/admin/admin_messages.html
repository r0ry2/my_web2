{% extends "admin/admin_base.html" %}
{% block title %}Messages | Admin{% endblock %}
{% block content %}

<!-- 🔙 زر الرجوع -->
<a href="{{ url_for('admin_home') }}" 
   style="
     position: fixed;
     top: 20px;
     left: 20px;
     background-color: #ff8fab;
     color: white;
     padding: 10px 18px;
     border-radius: 25px;
     font-weight: bold;
     text-decoration: none;
     box-shadow: 0 3px 6px rgba(0,0,0,0.2);
     transition: 0.3s;
     z-index: 1000;
   "
   onmouseover="this.style.transform='scale(1.1)'"
   onmouseout="this.style.transform='scale(1)'">
   ⬅️ Back
</a>

<div style="max-width:900px; margin:80px auto; background:#fff0f6; padding:30px; border-radius:20px; box-shadow:0 4px 10px rgba(0,0,0,0.1);">

  <h2 style="text-align:center; color:#e26fa7; margin-bottom:30px;">💌 Customer Messages</h2>

  {% if messages %}
    <table style="width:100%; border-collapse:collapse; background:white; border-radius:10px; overflow:hidden;">
      <thead style="background:#ffe3ec; color:#e26fa7;">
        <tr>
          <th style="padding:12px;">#</th>
          <th>Name</th>
          <th>Email</th>
          <th>Message</th>
          <th>Date</th>
        </tr>
      </thead>
      <tbody>
        {% for msg in messages %}
        <tr style="text-align:center; border-bottom:1px solid #f3cbd6;">
          <td style="padding:10px;">{{ msg.id }}</td>
          <td>{{ msg.name }}</td>
          <td>{{ msg.email }}</td>
          <td style="max-width:300px;">{{ msg.message }}</td>
          <td>{{ msg.date_sent.strftime('%Y-%m-%d %H:%M') if msg.date_sent else '—' }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p style="text-align:center; color:#777;">No messages yet 💭</p>
  {% endif %}

</div>

{% endblock %}
